## 계산 프로그램 구현
### 수식의 표기법: 중위(infix), 전위(prefix), 후위(postfix)표기법
수식을 이루는 피연산자는 한자리 숫자로만 이뤄진다고 가정합니다. 즉 1,3은 피연산자가 될 수 있지만, 24와 35는 피연산자가 될 수 없다. 이렇게 제한을 둔 이유는 당장 중요하지 않은 부분에 신경을 덜쓰기 위한것이다. 수식을 표기하는 방법에는 다음과 같이 세가지 종류가 있다

* 중위 표기법(infix notation) 예) 5+2/7
* 전위 표기법(prefix notation) 예) +5 / 27
* 후위 표기법(postfix notation) 예) 527/+

우리가 익숙한 표기법은 당연 중위 표기법이다. 전위 표기법과 후위표기법은 먼저 연산이 일어나거나 마지막에 연산을 신경쓰기 떄문에 즉 배치 순서에 따라서 연산순서가 결정되기 때문에 소괄호에 대한 처리가 불필요하다.

다음은 중위 표기법의 수식이다
(1+2) * 7

이 중위 표기법의 수식은 다음과 같이 전위 표기법, 후위 표기법의 수식으로 얼마든지 변환이 가능하다.
(1+2) * 7 전위 표기법 * + 1 2 7
(1+2) * 7 후위 표기법 1 2 + 7 *

이렇게 변환이된 전위표기법의 수식과 후위 표기법의 수식을 대상으로 한 계산기를 구현하는것이, 중위표기법이 수식을 대상으로 한 계산기의 구현보다 훨씬 수월하다. 이유는 우선순위를 신경쓰지 않아도 되고, 소괄호도 처리할 필요가 없기 때문이다. 참고로 우리가 사용하는 계산기들도 후위표기법으로 변경되어 계산 되어진다.

### 중위 표기법을 후위 표기법으로 바꾸는 방법 1/2: 소괄호를 고려하지 않고

우리가 구현할 계산기는 다음의 과정을 거쳐서 연산을 진행하도록 할 계획이다.
1. 중위 표기법의 수식을 후위 표기법의 수식으로 바꾼다
2. 후위 표기법으로 바뀐 수식을 계산하여 그 결과를 얻는다.
```
 5 + 2 / 7
````

위에 방식을 후위 표기법으로 변환 할 것이다. 수식과 연산자를 차례대로 배열과 쟁반에 담을것이다. 위에 먼저 처음으로 담을 숫자는 5이다.
```
 + 2 / 7        수식자리:5 연산자자리:
```
그다음은 + 연산자이다.
```
  2 / 7        수식자리:5 연산자자리:+
```

```
  / 7        수식자리:5,2 연산자자리: +
```
```
 7        수식자리:5,2 연산자자리:+,/
```
```
       수식자리:5,2,7 연산자자리:+,/
```

만약 연산자의 배열에서 먼저 들어가있는 연산이 우선순위가 더낮으면 그대로 계속계속해서 배열에 들어가게되면된다. 그래서 위와같은경우네느 /보다 +가 우선순위가 낮기때문에 그대로 + 다음에 / 가 들어가게 된다. 그리고 이것을 이제 후위표기법을 만들기 위해서 연산자 자리의 쟁반에들어 있는 연산자들을 수식자리로 옮기면된다. 쟁반의 원리로 들어갔기 때문에 뒤에서부터 들어가게되면된다.


```
5,2,7,/,+
```

위 부분에서 연산자 우선순위부분에서 설명 하지 않은경우 우선순위가 같은 경우가있다. 예를들어 쟁반에 +가 먼저 들어가있고 나중에 - 가따라온다면 둘은 우선순위가 같은경우이다. 사칙연산에서는 우선순위가 같으면 먼저 나온 연산자를 실행한다. 그럼으로 우선순위를 높이려면 쟁반에 맨 위부분으로 올려줘야한다.그럼으로 -가 맨아래로가고 +가 올라온다.


### 중위 표기법을 후위 표기법으로 바꾸는 방법 1/2: 소괄호를 고려하고

(1+2+3)/4
후위 표기법의 수식에서는 먼저 연산이 이뤄져야 하는 연산자가 뒤에 연산이 이뤄지는 연산자보다 앞에 위치해야한다. 따라서 위의 수식에서는 / 연산자보다 + 연산자와 * 연산자가 먼저 쟁반에서 빠져나가야한다.

![](https://i.imgur.com/dsHsCXb.png)
위와같이 소괄호도 연산자로 인식하고 쟁반에 올려 놓는다. 숫자들은 그전과같이 바로 수식의 자리로 들어가면된다.

![](https://i.imgur.com/Sv4zDSu.png)
괄호 연산자가 등할 떄까지 쟁반 위에 남아 있어야 하기 댸문에 사칙 연산자들보다 연산 우선순위가 낮다고 간주한다. 지금 현재 쟁반에 쌓여있는 + 연산자보다 * 연산자의 우선순위가 높으므로 다음과 같이 + 연산자 위에 * 연산자를 올려 놓아야한다. 만약에 + 연산자보다 우선순위가 낮은 연산자가 등장했다면 이전에 해오던 데로 + 연산자를 변화된 수식의 자리로 이동시키고 나서 새로운 연산자를 쟁반에 올려놔야한다.
이어서 숫자 3을 변환된 수식의 자리로 옮기고 ) 연산자를 쟁반위로 옮길 차례이다. 그런데 이때 등장하는 ) 연산자가 의미하는 바는 소과호의 끝을 의미한다. ( 연산자 이후에 쌓인 연산자들을 쟁반에서 꺼내어 변환된 수식의 자리로 옮겨야 한다.
이제 남은것은 / 연산자와 숫자 4의 처리이다. 기존그대로 쟁반과 수식의자리로옮기고 최종적으로 /를 가지고와 수식으로 옮기게되면 아래와같이 완성되게 된다.
![](https://i.imgur.com/8AIxVzG.png)
