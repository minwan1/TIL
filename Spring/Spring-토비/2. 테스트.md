## 테스트
스프링이 개발자에게 제공하는 가장 중요한 가치가 무엇이냐고 질문한다면 그것은 객체지향과 테스트라고 한다. 엔터프라이즈 앱은 변화가 계속계속해서 일어난다. 이런 변환에 대응하는 첫 번째 전략이 확장과 변화를 고려한 객체지향적 설계와 그것을 효과적으로 담아낼 수 있는 IoC/DI같은기술이고, 두번째 전략은 만들어진 코드를 확실할 수 있게 해주고, 변화에 유연하게 대처할 수 있는 자신감을 주는 테스트 기술이다.

### 2.1 UserDaoTest 다시 보기
### 2.1.1 웹을 통한 DAO 테스트 방법의 문제점
웹화면을 통해 DAO를 테스트하게되면 프리젠테이션계층,서비스계층을 포함한 모든 입출력기능을 대충이라도 테스트해야만한다. DAO에 대한 테스트로서는 단점이 너무 많다. 뿐만 아니라 서비스클래스, 컨트롤러, 뷰단 모든 레이어의 기능을 다만들어야만 테스트를 할 수 있다는 단점이 있다.
### 2.1.2 작은 단위의 테스트
한꺼번에 너무많은것을 몰아서 테스트하면 테스트 수행과정도 복잡해지고 오류가 발생했을 때 정확한 원인을 찾기도 힘들어진다. 따라서 테스틑 가능하면 작은 단위로 쪼개서 집중해서 할수 있어야 한다.
때로는 긴 시나리오에 테스트를 하는경우도 있을것이다. 예를들어 회원가입 - 로그인 - 로그아웃 - 회원삭제, 하지만 이흐름을 한번에 시키다가 에러가 발생하면 어느부분에서 에러가 낫는지 확인하기위해 많은 디버깅 시간이 필요할 것 이다. 하지만 미리 단위 테스틑하고 그다음 긴 시나리오를 진행하게되면 예외가 발생하거나 테스트가 실패할 수 있지만, 좀더 에러의 원인을 빨리 잡을 가망성이 커진다.

### 2.2 JUnit 테스트로 전환
#### Junit테스트로 전환
JUnit프레임워크는 두가지 조건을 따라야 한다. 첫번째는 public 으로 선언 돼야하고, 다른하나는 메소드에 @test라는 애노테이션을 붙여야한다.

#### 검증 코드 전환
Junit code에서 assertThat()메소드는 첫 번째 파라미터의 값을 뒤에나오는 매처라고 불리는 조건으로 비교해서 일치하면 다음으로 넘어가고, 아니면 테스트가 실패하도록 만들어준다. is()는 매처의 일종으로 equals()로 비교해주는 기능을 가졌다.

```java
assertThat(user2.getPassword(), is(user.getPassword())); // 같지않으면 다음단계로 못넘어감
if(!user.getName.equals(user2.getName())){
  //마찬가지
}
```

### 2.3 개발자를 위한 테스팅 프레임워크 JUnit
