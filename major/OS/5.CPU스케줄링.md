# CPU 스케줄링

### 1. 각각 명령어 
CPU는 프로그램의 기계어 명령을 실제로 수행하는 컴퓨터 내의 중앙 처리 장치이다. 프로그램이 시작되어 메모리에 올라가면, 프로그램 카운터라는 이름의 레지스터가 현재 CPU에서 수행할 코드의 메모리 주소값을 가지고 있게 된다. 그러면 CPU는 프로그램 카운터가 가리키는 주소의 기계어 명령을 하나씩 수행한다.

CPU관리에 앞서 프로그램 실행과 관련된 몇가지 기계어 명령에 대해 알아보자. 기계어명령은 크게 CPU내에서 수행되는 명령, 메모리 접근을 필요로 하는 명령, 입출력 동반으로 하는 명령으로 나눌 수 있다.

#### CPU내에서 수행되는 명령
예로는 Add 명령을 들 수 있다. Add 명령은 CPU내의 레지스터에 있는 두값을 더해 레지스터에 저장하는 명령이다. 이러한 명령은 CPU내에서만 수행되므로 명령의 수행속도가 매우 빠르다. 

#### 메모리 접근 수행 명령
메모리 접근을 수행하는 명령으로 Load와 Sotre명령이 있다. Load명령은 메모리에 있는 데이터를 CPU로 읽어 들이는 명령이다. Store명령은 CPU에서 계산된 결과값을 메모리에 저장하는 명령이다. 메모리를 접근하는 명령은 비록 CPU 내에서 수행되는 명령보다 시간이 오래 소요되지만 비교적 짧은 시간에 수행할 수 있는 명령이다.**도한 CPU내에서 일어나는 명령이나 메모리를 접근하는 명령은 사용자 프로그램이 직접 실행가능한 일반 명령이다.**


#### 입출력 작업 명령
사용자 프로그램이 수행되다 보면 입출력작업이 필요한 경우가 발생한다. 키보드로부터 입력을 받는다등에 작업을 하기위해서는 운영체제를 거쳐야한다. 이러한 작업은 CPU나 메모리접근 명령에 비해 오랜시간이 걸린다. 또한, 컴퓨터 시스템에서는 모든 입출력 명령을 특권 명령으로 규정해 사용자 프로그램이 직접 수행할 수 없도록 하고 운영체제를 통해 서비스를 대행하도록 하고 있다.

### 2. CPU버스트 / I/O버스트
위와같이 프로그램의 수행을 서로 다른 두 단계의 조합으로 나누어볼 수 있다. 첫째는 사용자 프로그램이 CPU를 직접 가지고 빠른 명령을 수행하는 일련의 단계이다. 둘째는 I/O 요청이 발생해 커널에 의해 입출력 작업을 진행하는 비교적 느린 단계이다. 전자를 CPU버스트 후자를 I/O버스트라고한다.


### 3. I/O바운드 프로세스 / CPU바운드 프로세스
각 프로그램마다 CPU버스트와 I/O 버스트가 차지하는 비율이 균일 하지는 않다. 어떤 프로세스는 I/O버스트가 빈번하고, 어떤 프로세스는 I/O버스트가 빈번하다. 이와 같은 기준에서 프로세스를 크게 **I/O바운드 프로세스**와 **CPU바운드 프로세스**로 나누어 볼 수 있다.

#### I/O바운드 프로세스
I/O요청이 빈번해 CPU버스트가 짧게 나타나는 프로세스를 말하고,  I/O바운드 프로세스는 주로 사용자로부터 인터액션을 계속 받아가며 프로그램을 수행시키는 대화형 프로그램이 이에해당한다.

#### CPU바운드 프로세스
CPU바운드 프로세스는 I/O 작업을 거의 수행하지 않아 CPU버스트가 길게 나타나는 프로세스를 말한다. 프로세스 수행의 상당 시간을 입출력 작업 없이 CPU작업에 소모하는 계산 위주의 프로그램이 이에 해당한다. 


### 4. CPU 스케줄링이란
프로그램이 수행되는 구조를 보면 I/O바운드 프로세스는 짧은 CPU 버스트를 많이 가지고 있는 반면, CPU 바운드 프로세스는 소수의 긴 CPU버스트로 구성된다. **CPU스케줄링이란** 이와 같이 CPU를 사용하는 패턴이 상이한 여러 프로그램이 동일한 시스템 내부에서 함께 실행되기 때문에 필요한것이다. 우리가 사용하는 시분할 시스템에서는 이와같이  CPU버스트가 균일하지 않은 다양한 프로그램이 공존하므로 효율적인 CPU스케줄링 기법이 반드시 필요하다.

컴퓨터 시스템 내에서 수행되는 프로세스들의 cpu버스트를 분석해보면 대부분의 경우 짧은 CPU 버스트를 가지며, 극히 일부분만 긴 CPU버스트를 가진다. 이러한 이유는 사용자에게 입력을 받아 CPU연산을 수행하고 그 결과를 다시 출력하는 작업을 수행하는 프로세스들이 많기 때문이다. 즉 대화형 작업이 많다는 의미이다. 이는 바꾸어 말하면 CPU 스케줄링시 **I/O바운드 프로세스**에게 우선순위를 높여주는것이 바람직하다는 의미가 된다. 

#### I/O바운드프로세스에게 CPU를 우선적으로 사용할 수 있을 때 장점
이러한 스케줄링은 대화형 프로세스의 빠른 응답성 제공외에 I/O 장치의 효율성을 높이는 효과도 얻을 수 있다. I/O바운드 프로세스에게 먼저 CPU를 할당할 경우 CPU를 잠깐만 사용한 후 곧바로 I/O 작업을 수행할 수 있으므로, I/O장치의 이용률이 높아지기 때문이다. 
#### CPU바운드프로세스에게 CPU를 우선적으로 사용할 수 있을 때 단점
만약 CPU 바운드 프로세스에게 먼저 CPU를 할당 한다면 그 프로세스가 CPU를 다 사용할 때까지 I/O바운드 프로세스는 응답 시간이 길어질 뿐 아니라 해당 I/O장치도 그 시간동안 작업을 수행하지 않는 휴면 상태가 된다.


## 1. CPU 스케줄러

