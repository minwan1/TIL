# 데이터베이스 성능
시스템 세계에서 성능은 처리시간, 응답시간이라고 불리는 지표이다. 


## parse, parser
데이터베이스는 SQL문을 받으면 이 SQL 문이 문법적으로 잘못된 부분이 업는지를 점검합니다. 이 동작을 '파스(parse)'라고하는데, 한국어로는 '구구문해석'으로 번역되며 이 역할을 담당하는 내부 프로그램은 '파서(parser)라고 합니다.



## 실행 계획과 옵티마이저

### 실행계획
데이터베이스는 어떤 계획으로 데이터에 도달할지 결정해야한다.

### 옵티마이저 
이러한 실행계획들중 최적에 실행 계획을 결정하는것이 옵티마이저이다.

### 실행 계획을 옵티마이저에게 맡기는 이유
이처럼 사람이 아닌 실행계획을 데이터베이스에게 맡기는 이유는 데이터베이스가 더 효율적인 실행계획을 만들 수 있다고 판단하기 때문이다.

한개의 SQL에서 가능한실행 계획은 복수 개가 있어서 이 중에서 어떤게 가장 효율적인지는 인간보다 컴퓨터 쪽이 정확하면서도 고속으로 계산할 수 있다. 특히 복잡합 SQL 문의 경우 수백 가지 실행 계획 후보가 있기 때문이다. 

사실 특정 실행계획을 옵티마이저 대신 엔드 사용자가 지정하는것이 불가능한것은 아니다. 힌트(hint)를 이용하는 방법이 있다.

### 옵티마이저가 참조하는 통계 정보

* 테이블의 행수, 열수
* 각열의 길이와 데이터형
* 테이블 크기
* 열에대한 기본키나 NOT NULL 제약의 정보
* 열 갑싀 분산과 편향


옵티마이저는 위에 정보를 기반으로 SQL 문에서 고소확할 수 있는 실행 계획을 세운다.



## 실행 계획은 어떻게 세워지는가
먼저 다음은 SELECT 문에대한 실행 계획을 볼 수 있는 명령어이다.
```
EXPLAIN SELECT * FROM City;
```
## 풀 스캔과 레인지 스캔
테이블로 액세스 방법은 크게 '풀스캔'과 '레인지스캔' 2개가 존재합니다. 이두가지의 차이는 테이블을 처음부터 다 검사하느냐, 색인에서 찾는 단어가 있는 페이지만 선택해 읽느냐입니다.


## 인덱스의 구조
인덱스는 데이터베이스의 성능 향상 수다느로 가장 일반적인 방법이다. 인덱스의 인기가 높은 이유는 다음과 같은 이유다
* SQL 문을 변경하지 않아도 성능을 개선할 수 있다.
* 테이블의 데이터에 영향을 주지 않는다.
* 일정한 효과를 기대할 수 있다.

인덱스 구조에서 가장 많이 사용되는 타입은 비트리인덱스 타입이다. 관계형 데이터베이스에서 튜닝의 기본이 되는 인덱스이다. 비트리를 기억하면 대부분 대처할 수 있다. 

 


